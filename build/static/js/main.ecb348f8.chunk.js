(this["webpackJsonpsahil-react-web"]=this["webpackJsonpsahil-react-web"]||[]).push([[0],{28:function(e,t,a){"use strict";a.r(t);var o=a(2),i=a(9),c=a.n(i),n=a(8),s=(a(20),a(10)),r=a(5);const l=Object(s.b)({accessToken:"pk.eyJ1IjoiamFpZGV2djk5OSIsImEiOiJja25vcHhkNjExYmR4MnZwcmU3MG9wd2hlIn0.YV5iqi1TiI1nSWQd-bQBmA"}),d={backgroundColor:"green",borderRadius:"50%",width:"20px",height:"20px",border:"4px solid lightgreen"},u={backgroundColor:"#e74c3c",borderRadius:"50%",width:"20px",height:"20px",border:"4px solid #eaa29b"};var b=()=>{const[e,t]=Object(o.useState)(!0),[a,i]=Object(o.useState)({latitude:0,longitude:0}),[c,b]=Object(o.useState)([]);return Object(o.useEffect)((()=>{navigator.geolocation.getCurrentPosition((e=>{i({longitude:e.coords.longitude,latitude:e.coords.latitude})}))}),[]),Object(o.useEffect)((()=>{n.a.database().ref("location").on("value",(async e=>{if(null!==e.val()){const t=await Object.keys(e.val()).map((t=>e.val()[t]));console.log(t),b(t)}else console.log("The Snapshot is null")}))}),[]),Object(o.useEffect)((()=>{setInterval((()=>{navigator.geolocation.getCurrentPosition((e=>{n.a.database().ref().child("location").child(navigator.productSub).set({currentLocation:{longitude:e.coords.longitude,latitude:e.coords.latitude}},(e=>{e?console.log("Error Occured while sending the location !",e):console.log("Location send !")}))}))}),1e3)}),[]),Object(r.jsxs)(l,{style:"mapbox://styles/mapbox/streets-v8",containerStyle:{height:"100vh",width:"100%"},center:[a.longitude,a.latitude],movingMethod:"jumpTo",children:[Object(r.jsx)(s.a,{coordinates:[a.longitude,a.latitude],children:Object(r.jsx)("div",{style:d})}),c.map((e=>Object(r.jsx)(s.a,{coordinates:[e.currentLocation.longitude,e.currentLocation.latitude],children:Object(r.jsx)("div",{style:u})})))]})};n.a.initializeApp({apiKey:"AIzaSyBa03yaOEGCwaL-G6v95ppgGS6lyvoFSVk",authDomain:"react-native-chikchak-firebase.firebaseapp.com",databaseURL:"https://react-native-chikchak-firebase.firebaseio.com",projectId:"react-native-chikchak-firebase",storageBucket:"react-native-chikchak-firebase.appspot.com",messagingSenderId:"240714601094",appId:"1:240714601094:web:8c6220a15fb6c630407707",measurementId:"G-K4J3S1NSR9"}),c.a.render(Object(r.jsx)(b,{}),document.querySelector("#root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.ecb348f8.chunk.js.map